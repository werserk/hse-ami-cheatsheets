# STYLEGUIDE-FOR-AI.md

> Единые правила для написания глав конспекта по ЛОС (линейным разностным уравнениям с постоянными коэффициентами). Документ рассчитан на строгую, детерминированную подачу: **паттерн → метод → применение → результат**.

---

## Базовый промпт для генерации глав

**Сформируй конспект для новой главы нашего глобального конспекта. Глава должна содержать выбранную тему [УКАЗАТЬ ТЕМУ]. Важно заметить, что в каждой главе обязательно должно быть:**

**1) В начале главы объявление, какой тип задач из экзамена мы решаем**
- Достаточно привести полное условие задачи из экзамена, не решая эту задачу
- Это задает контекст и показывает, какие задачи охватывает глава

**2) Детально описан универсальный алгоритм решения таких задач**
- В приоритете более образная запись через формулы, которые можно "увидеть" в задаче
- Не просто слова и термины, а визуальные формулы и детерминированные шаги
- Каждый шаг должен иметь четкую цель и конкретное действие

**3) Необходимые таблицы или другие сопроводительные материалы**
- Например, соотнесение атома, критерия резонанса и вклада атома
- Таблицы для детекторов, классификаций, правил преобразования
- Любые вспомогательные материалы, которые помогают в применении алгоритма

**4) Применение построенного алгоритма на объявленной выше задаче из экзамена**
- Повторение тех же шагов, но с подстановкой конкретных данных
- Обязательно указывать, какие признаки сработали в данном случае
- Показывать, как общий алгоритм адаптируется к конкретной задаче

**Главу скинь сначала просто (чтобы я увидел рендер), а после - в LaTeX коде (чтобы я мог скопировать и вставить в конспект)**

---

## 0. Идеология и принципы

- **Главная цель:** минимизировать ветвления и «догадки». Каждая глава строится как последовательность устойчивых шагов, где выбор метода определяется простыми признаками (значения полиномов, знаки, делимость и т.п.).
- **Оформление шагов алгоритма:**
  `Шаг k. **[жирная формулировка цели шага]**`
  На следующей строке — действие (без слов «цель/действие»), включающее формулы и конкретные операции.
- **Всегда** вводи новые обозначения аккуратно: что это за объект, к какому множеству принадлежит (ℝ/ℂ/ℤ/…).
- **Лексика:** короткие фразы, минимум теории, максимум «видимых» признаков/формул.
- **Вывод:** в конце — компактная «коробочная» формула/ответ или шаблон решения.

---

## 1. Структура главы

Каждая глава состоит из **четырёх** обязательных блоков:

1. **Тип экзаменационной задачи (полное условие).**
   Привести оригинальную формулировку (не решать здесь).

2. **Универсальный алгоритм (визуальные формулы и детерминированные шаги).**
   Начать с **Исходных данных и обозначений (ввод)** с определением всех символов и множеств.
   Затем последовательность шагов в формате `\paragraph{Шаг k.} \textbf{Название шага.}\\` + следующая строка с действием.
   В алгоритме обязательно фиксировать признаки выбора ветки (например, \(k_\chi(1)=0\), \(Q_{\lambda,\theta}\mid\chi\)).

3. **Сопроводительные материалы (таблицы и обозначения).**
   Таблицы «атом → пробная форма», правила резонанса.
   Включать LaTeX-таблицы с `\begin{tabular}` для визуализации правил.

4. **Применение алгоритма к объявленной задаче.**
   Повторить те же шаги, но с подстановкой конкретных данных из условия; пояснять, **что изменилось** относительно общего алгоритма (например, «здесь \(k_\chi(1)=1\), поэтому…»).

---

## 2. Алгоритм для ЛОС (M1)

**Предварительно:** \textbf{Исходные данные и обозначения (ввод).} Определить все символы с типами множеств.

- Шаг 0. **Привести уравнение к канонической форме.**\\
  Разделить на \(a_n\) (если \(a_n\neq 1\)) и записать \(y_{t+n}+b_{n-1}y_{t+n-1}+\cdots+b_0y_t=f(t)\).

- Шаг 1. **Построить \(\chi(r)\) и зафиксировать кратности корней.**\\
  Выписать \(\chi(r)=r^n+b_{n-1}r^{n-1}+\dots+b_0\), найти все \(\lambda_j\) и \(k_\chi(\lambda_j)\).

- Шаг 2. **Записать общее решение однородной части \(y^{(h)}_t\).**\\
  Для каждого корня \(\lambda\) кратности \(s=k_\chi(\lambda)\) включить базис \(t^0\lambda^t,\dots,t^{s-1}\lambda^t\); для комплексной пары — \(\rho^t\cos(\theta t),\ \rho^t\sin(\theta t)\).

- Шаг 3. **Выбрать пробную форму \(y^{(p)}_t\) по атомам \(f(t)\) и признакам резонанса через \(\chi\).**\\
  Разложить \(f(t)\) на атомы и применить правила из таблицы. Резонанс: \(s=k_\chi(1)\) для \(P_d(t)\); \(s=k_\chi(\lambda)\) для \(\lambda^tP_d(t)\); для триг-атомов — если \(Q_{\lambda,\theta}\mid\chi\).

- Шаг 4. **Определить коэффициенты пробной формы.**\\
  Подставить \(y^{(p)}\) в уравнение, сгруппировать по типам (\(\lambda^t\), \(t^k\), \(\lambda^t\cos/\sin\)) и решить линейную систему.

- Шаг 5. **Собрать общий ответ и учесть начальные условия (при наличии).**\\
  Записать \(y_t=y^{(h)}_t+y^{(p)}_t\). При наличии \(y_0,\dots,y_{n-1}\) подставить \(t\) и решить систему для констант. Финальный ответ оформить в `\boxed{}`.

---

## 3. «Табличные» правила (пример для M1)

**Атом → пробная форма (до резонанса)**
- \(\lambda^{t}\ \mapsto\ A\,\lambda^{t}\)
- \(P_d(t)\ \mapsto\ \sum_{k=0}^{d} c_k t^k\)
- \(\lambda^{t}P_d(t)\ \mapsto\ \lambda^{t}\sum_{k=0}^{d} c_k t^k\)
- \(\lambda^{t}\cos(\theta t),\ \lambda^{t}\sin(\theta t)\ \mapsto\ \lambda^{t}(A\cos(\theta t)+B\sin(\theta t))\)

**Резонанс (только через \(\chi\))**
- Для \(P_d(t)\): множитель \(t^{\text{кратность корня }1\text{ в }\chi}\).
- Для \(\lambda^{t}P_d(t)\): множитель \(t^{\text{кратность корня }\lambda\text{ в }\chi}\).
- Для триг-атомов: если \(Q_{\lambda,\theta}\mid\chi\) с кратностью \(s\), умножить на \(t^s\).

---

## 4. Единый формат «Применения алгоритма»

Для каждого шага **повторяй формулировку цели** и на следующей строке **действие с конкретными данными** из условия. Обязательно указывать, **какой признак сработал** (пример: «здесь \(k_\chi(1)=1\) ⇒ резонанс \(s=1\)»).

**Мини-образец (M1):**
- \paragraph{Шаг 1.} \textbf{Построить \(\chi(r)\) и зафиксировать кратности корней.}\\
  \(\chi(r)=r^3-r^2+4r-4=(r-1)(r^2+4)\); корни \(1\), \(\pm 2i\), все \(k_\chi=1\).

- \paragraph{Шаг 3.} \textbf{Выбрать \(y^{(p)}_t\) по атомам RHS и признакам резонанса на \(\chi\).}\\
  \(f(t)=26\cdot 3^t + P_1(t)\), где \(P_1(t)=10t+9\).
  \begin{itemize}
  \item Для \(3^t\): \(k_\chi(3)=0\) (3 не корень) \(\Rightarrow A\cdot 3^t\)
  \item Для \(P_1(t)\): \(k_\chi(1)=1\) (1 — корень кратности 1) \(\Rightarrow t(\tilde a t+\tilde b)=\tilde a t^2+\tilde b t\)
  \end{itemize}

---

## 5. Дополнительные элементы форматирования

- **Списки в шагах:** Использовать `\begin{itemize}` для разбивки сложных шагов на подпункты
- **Таблицы:** Оформлять правила в `\begin{center}\begin{tabular}{|c|c|c|}\hline ... \end{tabular}\end{center}`
- **Финальный ответ:** Всегда заключать в `\boxed{\, ... \,}`
- **Нумерация блоков:** Использовать `\subsection*{k. Название}` для разделов главы

---

## 6. Чек-лист качества перед отправкой

- **Структура глав:** Все 4 блока присутствуют с `\subsection*{k. Название}`
- **Исходные данные:** Блок «Исходные данные и обозначения (ввод)» с определением всех символов
- **Формат шагов:** `\paragraph{Шаг k.} \textbf{Название.}\\` + действие на следующей строке
- **Нумерация шагов:** Начинается с 0 для ЛОС (Шаг 0, Шаг 1, ...)
- **Таблицы:** Правила оформлены в `\begin{tabular}` с заголовками «Атом», «Резонанс?», «Вклад»
- **Списки:** `\begin{itemize}` используется для разбивки сложных шагов
- **Финальный ответ:** Заключен в `\boxed{\, ... \,}`
- **Резонанс:** Оформлен через \(k_\chi(\lambda)=0\), \(Q_{\lambda,\theta}\mid\chi\), а не словесно
- **Признаки:** В применении явно указано, какие признаки сработали (\(k_\chi(1)=1\), etc.)
- **Обозначения:** Единый набор: \(\chi(r)\), \(k_\chi(\lambda)\), \(Q_{\lambda,\theta}(r)\)

---

## 7. Частые ошибки и как их избегать

- Пропуск объявления символа при первом появлении → всегда писать «вводим: …».
- Резонанс описан «на словах» → заменять на \(k_\chi(1)=0\), \(k_\chi(\lambda)=0\), \(Q_{\lambda,\theta}\mid\chi\).
- Смешение степеней и кратностей → кратность **только** корня \(\chi\); степень — параметр \(P_d\).