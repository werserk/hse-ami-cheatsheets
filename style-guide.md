# Style Guide: HSE AMI Cheatsheets

## Общие принципы

### Язык и стиль
- **Основной язык**: русский
- **Терминология**: формальная, академическая, краткая
- **Избегать**: разговорных слов, жаргона
- **Термины**: в единственном числе при заголовках (например, «Неоднородные разностные уравнения», не «Неоднородности»)
- **Функциональные слова**: «требуется», «должно быть» вместо разговорных «надо», «нужно»

### Единый набор переменных
- **Индекс времени**: только `t` или `T` (запрет на `n`)
- **Дискретный шаг**: `k` допускается только в локальных рассуждениях с пометкой
- **Размерности**: `m`, `d`, `N` — использовать только при необходимости, согласовать отдельно
- **Замена `n` на `t`**: если в исходнике использовано `n`, заменить на `t` и документировать замену

### Математическая нотация
- **Множества**: `\mathbb{R}` (действительные), `\mathbb{N}` (натуральные), `\mathbb{C}` (комплексные)
- **Функции**: `f`, `g`, `h` (курсив)
- **Операторы**: `\mathcal{L}` для линейного оператора, `\mathcal{A}` для алгебры
- **Объявление символов**: всегда объявлять новые символы в разделе «Обозначения»

## Структура документов

### Заголовки и метки
- **Команды**: `\section`, `\subsection`, `\subsubsection`
- **Метки**: `\label{sec:имя}`, `\label{eq:имя}`, `\label{fig:имя}`, `\label{thm:имя}`, `\label{ex:имя}`
- **Имена меток**: английский язык, через дефис, коротко и однозначно
  - `sec:homogeneous-equations`
  - `eq:example-1`
  - `fig:phase-portrait`
  - `thm:existence-uniqueness`
  - `ex:system-solving`

### Оформление задач и решений
**Структура задачи:**
1. **Условие** — четкая формулировка
2. **Комментарии/подсказки** (опционально)
3. **Решение** — пошаговое с нумерацией
4. **Ответ** (если есть)
5. **Замечания/общие случаи**

**Шаги решения**: всегда выделять нумерованным списком с `\begin{HSESteps}`

### Единый голос и лексика
- «Доказательство» (не «Доказ»)
- «Пример» (единственное число)
- «Упражнение»
- «Замечание»
- «Требуется найти» (не «надо найти»)
- «Должно выполняться» (не «нужно выполнять»)

## LaTeX-стилизация

### Использование макросов
- **Определения**: `\HSEDefinition{...}`
- **Примеры**: `\HSEExample{...}`
- **Алгоритмы**: `\HSEAlgorithm{...}`
- **Замечания**: `\HSENote{...}`
- **Шаги**: `\begin{HSESteps}...\end{HSESteps}`
- **Термины**: `\Term{...}` для выделения терминов при первом использовании

### Форматирование кода
- **Code blocks**: с указанием языка (Python, MATLAB, R)
- **Комментарии**: на русском языке
- **Стиль**: короткие скрипты, воспроизводимые
- **Префикс**: `# RUN` для исполняемых команд
- **Вывод**: включать результат выполнения

### Таблицы и рисунки
- **Таблицы**: использовать `booktabs` стиль с `\toprule`, `\midrule`, `\bottomrule`
- **Подписи**: `\caption{...}`, `\label{tab:...}` или `\label{fig:...}`
- **Выравнивание**: центрирование для таблиц, `[h!]` для позиционирования

## Структура репозитория

### Организация файлов
```
cheatsheets/
├── math/
│   └── subject-name/
│       ├── main.tex                 # Главный файл предмета
│       ├── preparation/             # Материалы для подготовки
│       │   └── topics/
│       │       ├── 00-intro.tex     # Введение
│       │       ├── 01-topic-1.tex   # Тема 1
│       │       └── 02-topic-2.tex   # Тема 2
│       └── exam/                    # Экзаменационные материалы
│           └── YYYY/
│               ├── variant-a.tex    # Вариант A
│               └── variant-b.tex    # Вариант B
```

### Именование файлов
- **Темы**: `##-название-темы.tex` (с ведущими нулями)
- **Варианты**: `variant-{a,b,c,...}.tex` или `demo-{a,b,c,...}.tex`
- **Главные файлы**: `main.tex`
- **Изображения**: `fig-название.png/jpg/pdf`

## Проверки качества

### Обязательные проверки
1. **Метки**: все `\label` имеют соответствующие `\ref`
2. **Переменные**: отсутствие `n` в индексах времени
3. **Нотация**: правильное использование `\mathbb{R}`, `\mathbb{N}`, `\mathbb{C}`
4. **Структура задач**: наличие всех обязательных полей
5. **Компиляция**: успешная сборка через `latexmk`
6. **Ссылки**: все `\ref` и `\cite` разрешены

### Автоматические проверки
- **LaTeX**: `latexmk -pdf -interaction=nonstopmode`
- **Стиль**: `chktex` для проверки стиля кода
- **Метки**: скрипт проверки соответствия `\label` и `\ref`
- **Переменные**: скрипт поиска запрещенных `n` в индексах

## Примеры правильного оформления

### Определение
```latex
\HSEDefinition{\Term{Линейное разностное уравнение} — уравнение вида
$y_{t+k} + a_1 y_{t+k-1} + \ldots + a_k y_t = f(t)$, где $a_i \in \mathbb{R}$,
$f(t)$ — заданная функция.}
```

### Пример с решением
```latex
\HSEExample{\textbf{Пример.} Решите уравнение $y_{t+2} - 5y_{t+1} + 6y_t = 0$.

\textbf{Решение:}
\begin{HSESteps}
\item Характеристическое уравнение: $\lambda^2 - 5\lambda + 6 = 0$
\item Корни: $\lambda_1 = 2$, $\lambda_2 = 3$
\item Общее решение: $y_t = C_1 \cdot 2^t + C_2 \cdot 3^t$
\end{HSESteps}

\textbf{Ответ:} $y_t = C_1 \cdot 2^t + C_2 \cdot 3^t$, где $C_1, C_2 \in \mathbb{R}$.}
```

### Алгоритм
```latex
\HSEAlgorithm{\textbf{Алгоритм решения ЛОРУ.}
\begin{HSESteps}
\item Составить характеристическое уравнение
\item Найти корни $\lambda_i$
\item Записать общее решение в зависимости от типа корней
\item Определить константы из начальных условий
\end{HSESteps}}
```

---

**Примечание**: Этот style guide является живым документом и должен обновляться по мере развития проекта.
