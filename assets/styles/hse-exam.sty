% hse-exam.sty — Macros and styling for exam variants
% Project: HSE AMI Cheatsheets
% Author: werserk
% Version: 0.1

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{hse-exam}[2025/09/07 v0.1 HSE exam helpers]

\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage{mathtools}
\RequirePackage{xparse}
\RequirePackage{enumitem}
\RequirePackage{hyperref}
\RequirePackage{xcolor}
\RequirePackage{tabularx}

% Accent and link color (can be aligned with cheatsheets)
\definecolor{accent}{HTML}{FF7517}
\hypersetup{colorlinks=true, linkcolor=accent, urlcolor=accent, citecolor=accent}

% Metadata with sensible defaults
\newcommand{\ExamSubject}{Дифференциальные уравнения}
\newcommand{\ExamLecturer}{Букин К.А.}

\NewDocumentCommand{\SetExamSubject}{m}{\renewcommand{\ExamSubject}{#1}}
\NewDocumentCommand{\SetExamLecturer}{m}{\renewcommand{\ExamLecturer}{#1}}

% (Legend/info panel removed by request)

% Centered variant title: \ExamVariantTitle{Вариант φ}
\NewDocumentCommand{\ExamVariantTitle}{m}{%
  \begin{center}\textbf{#1}\end{center}%
}

% Problems list environment (compact enumerate)
\NewDocumentEnvironment{examproblems}{}{%
  \begin{enumerate}[leftmargin=*, label=\arabic*.]
}{%
  \end{enumerate}
}

% Problem item macro with optional points: \problem[10]{Заголовок}
\NewDocumentCommand{\problem}{O{} m}{%
  \item \textbf{#2}%
  \if\relax\detokenize{#1}\relax\else\hfill\textit{(#1 баллов)}\fi
}

% Points helper: \points{10} -> (10 баллов)
\NewDocumentCommand{\points}{m}{\textit{(#1 баллов)}}


